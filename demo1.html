<!doctype html>
<html lang="en">
    <head>
        <title>JCMD Demo1</title>
        <link href="jscmd.css" media="all" rel="stylesheet" type="text/css" />
    </head>
    <body>
        
        <div id="command"></div>
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="jscmd.js"></script>
        <script>
                $(document).ready(function(){
                    $('#command').jscmd();

                    $('#command').jscmd().registerCommand("hello", "hello world", function(jscmd, params){
                       jscmd.addLogEntry("Hello world!");
                       jscmd.addLogEntry("Your params: " + params.join(", "));
                       return true; //by returning true you release the cmd
                    });
                    
                    $('#command').jscmd().registerCommand("rps", "Rock Paper Sciccors!", function(jscmd, params){
                        var things = ['Rock', 'Paper', 'Scissor'];
                        var computerPick = things[Math.floor(Math.random()*things.length)];
                        
                        var userPick = params[0];
                        
                        if(typeof userPick === 'undefined'){
                            jscmd.addLogEntry("Please choose: Rock, Paper, Scissor");
                            jscmd.addLogEntry("Example: rps Rock");
                            return true;
                        }
                        
                        var result = 0; // 0 = draw, 1 = win, 2 = lose
                        
                        jscmd.addLogEntry('The computer chose: ' + computerPick);
                        jscmd.addLogEntry('The player chose: ' + userPick);
                        
                        switch(userPick.toLowerCase()) {
                            case 'rock':
                                    if(computerPick.toLowerCase() === "scissor"){
                                        result = 1;
                                    }
                                    if(computerPick.toLowerCase() === "paper"){
                                        result = 2;
                                    }
                                break;
                            case 'paper':
                                    if(computerPick.toLowerCase() === "rock"){
                                        result = 1;
                                    }
                                    if(computerPick.toLowerCase() === "scissor"){
                                        result = 2;
                                    }
                                break;
                            case 'scissor':
                                    if(computerPick.toLowerCase() === "paper"){
                                        result = 1;
                                    }
                                    if(computerPick.toLowerCase() === "rock"){
                                        result = 2;
                                    }
                                break;
                            default:
								result = 3;
                                jscmd.addLogEntry("?");
                        }
                        
                        if(result === 0){
                            jscmd.addLogEntry("Draw!");
                        }else{
                            if(result === 1){
                                jscmd.addLogEntry("You won!");
                            }else if(result === 2){
                                jscmd.addLogEntry("Draw!");
                            }else{
								jscmd.addLogEntry("Profit!");
							}
                        }
                        return true;
                    });
                });
        </script>
    </body>
</html>